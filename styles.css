:root{
      --bg:#0b1220;--card:rgba(255,255,255,.06);--card2:rgba(255,255,255,.04);--border:rgba(255,255,255,.10);
      --text:rgba(255,255,255,.92);--muted:rgba(255,255,255,.65);--muted2:rgba(255,255,255,.45);
      --accent:#7c3aed;--good:#22c55e;--warn:#f59e0b;--shadow:0 20px 60px rgba(0,0,0,.45);
      --radius:18px;--radius2:14px;--font:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Noto Sans",Arial;
    }
    html[data-theme="light"]{
      --bg:#f6f7fb;--card:rgba(0,0,0,.05);--card2:rgba(0,0,0,.03);--border:rgba(0,0,0,.10);
      --text:rgba(0,0,0,.88);--muted:rgba(0,0,0,.62);--muted2:rgba(0,0,0,.45);--shadow:0 18px 50px rgba(0,0,0,.14);
    }
    *{box-sizing:border-box}
    body{
      margin:0;font-family:var(--font);color:var(--text);min-height:100vh;
      background:
        radial-gradient(1200px 700px at 15% 10%, rgba(124,58,237,.30), transparent 60%),
        radial-gradient(900px 600px at 85% 15%, rgba(34,197,94,.18), transparent 55%),
        radial-gradient(900px 600px at 50% 100%, rgba(245,158,11,.16), transparent 55%),
        var(--bg);
    }
    [data-theme="light"] body{
      background:
        radial-gradient(1200px 700px at 15% 10%, rgba(124,58,237,.18), transparent 60%),
        radial-gradient(900px 600px at 85% 15%, rgba(34,197,94,.12), transparent 55%),
        radial-gradient(900px 600px at 50% 100%, rgba(245,158,11,.10), transparent 55%),
        var(--bg);
    }

    .wrap{max-width:1120px;margin:0 auto;padding:22px 16px 28px}
    header{
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      padding:14px 16px;border:1px solid var(--border);
      background:linear-gradient(180deg,var(--card),transparent);
      border-radius:var(--radius);box-shadow:var(--shadow);backdrop-filter: blur(10px);
    }
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:38px;height:38px;border-radius:12px;background:linear-gradient(135deg, rgba(124,58,237,.95), rgba(34,197,94,.8));
      box-shadow:0 14px 36px rgba(124,58,237,.25)}
    .brand h1{font-size:14px;line-height:1.1;margin:0}
    .brand .sub{font-size:12px;color:var(--muted);margin-top:2px}
    .hdr-actions{display:flex;align-items:center;gap:10px;flex-wrap:wrap;justify-content:flex-end}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border:1px solid var(--border);border-radius:999px;background:var(--card2);color:var(--muted);font-size:12px}
    .btn{
      appearance:none;border:1px solid var(--border);background:var(--card2);color:var(--text);
      padding:10px 12px;border-radius:12px;cursor:pointer;transition:.16s transform,.16s background,.16s border;
      display:inline-flex;align-items:center;gap:8px;font-weight:600;font-size:13px;
    }
    .btn:hover{transform:translateY(-1px);background:var(--card)}
    .btn:active{transform:translateY(0)}
    .btn.primary{background:linear-gradient(135deg, rgba(124,58,237,.95), rgba(124,58,237,.55));border-color:rgba(124,58,237,.55)}
    .btn.primary:hover{background:linear-gradient(135deg, rgba(124,58,237,1), rgba(124,58,237,.6))}
    .btn.ghost{background:transparent}
    .btn:disabled{opacity:.5;cursor:not-allowed;transform:none}

    .grid{margin-top:16px;display:grid;grid-template-columns:1.15fr .85fr;gap:14px}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}

    .panel{
      border:1px solid var(--border);border-radius:var(--radius);
      background:linear-gradient(180deg, var(--card), transparent);
      box-shadow:var(--shadow);overflow:hidden;
    }
    .panel .inner{padding:18px}
    .kicker{font-size:12px;color:var(--muted);letter-spacing:.12em;text-transform:uppercase}
    .title{font-size:22px;margin:8px 0 6px}
    .lead{display: flex; flex-wrap: wrap; (--muted);margin:0 0 14px;line-height:1.5}

    .cards{display:grid;grid-template-columns:repeat(2, minmax(0, 1fr));gap:12px}
    @media (max-width:560px){.cards{grid-template-columns:1fr}}

    .card{
      border:1px solid var(--border);border-radius:var(--radius2);background:var(--card2);
      padding:12px;cursor:pointer;position:relative;overflow:hidden;min-height:128px;
      transition:.16s transform,.16s background,.16s border;
    }
    .card:hover{transform:translateY(-1px);background:var(--card)}
    .card.active{border-color:rgba(124,58,237,.7);box-shadow:0 18px 45px rgba(124,58,237,.18) inset}
    .card.subtle{cursor:default}
    .card.subtle:hover{transform:none;background:var(--card2)}
    .card .card-title{font-weight:800;font-size:14px;margin:6px 0 6px}
    .card .card-sub, .card .card-desc{color:var(--muted);font-size:12px;line-height:1.45}
    .tags,.card-tags{display:flex;gap:6px;flex-wrap:wrap;margin-top:10px}
    .tag{font-size:11px;color:var(--muted);border:1px solid var(--border);background:rgba(0,0,0,.08);padding:5px 8px;border-radius:999px}
    [data-theme="light"] .tag{background:rgba(255,255,255,.75)}

    .thumb{position:absolute;inset:-20px -20px auto auto;width:120px;height:120px;border-radius:24px;transform:rotate(10deg);opacity:.85;filter:saturate(1.1) contrast(1.05)}
    .thumb.style-modern{background:linear-gradient(135deg, rgba(59,130,246,.55), rgba(124,58,237,.55))}
    .thumb.style-minimal{background:linear-gradient(135deg, rgba(148,163,184,.55), rgba(255,255,255,.08))}
    .thumb.style-classic{background:linear-gradient(135deg, rgba(245,158,11,.55), rgba(168,85,247,.35))}
    .thumb.style-loft{background:linear-gradient(135deg, rgba(17,24,39,.55), rgba(245,158,11,.35))}
    .thumb.layout-straight{background:linear-gradient(135deg, rgba(34,197,94,.45), rgba(124,58,237,.35))}
    .thumb.layout-corner{background:linear-gradient(135deg, rgba(245,158,11,.45), rgba(124,58,237,.35))}
    
    /* === STEP 6: photo thumbs (SVG pseudo-photos, easy to replace with real JPG/WEBP later) === */
    .step[data-step="6"] .card{padding-top:14px}
    .step[data-step="6"] .card .thumb{
      position:relative;inset:auto;width:100%;height:118px;border-radius:16px;
      transform:none;opacity:1;filter:none;margin:0 0 10px 0;
      background-size:cover;background-position:center;box-shadow:inset 0 0 0 1px rgba(255,255,255,.10);
    }
    .step[data-step="6"] .card .thumb::after{
      content:"";position:absolute;inset:0;border-radius:16px;
      background:linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.40));
      pointer-events:none;
    }
    .step[data-step="6"] .thumb.fac-dsp{background-image:url("images/6.1.avif")}
    .step[data-step="6"] .thumb.fac-mdf{background-image:url("images/6.2.jpg")}
    .step[data-step="6"] .thumb.fac-glassprofile{background-image:url("images/6.3.jpg")}
    .step[data-step="6"] .thumb.fac-combo{background-image:url("images/6.4.webp")}
    .step[data-step="6"] .thumb.led-none{background-image:url("images/6.5.avif")}
    .step[data-step="6"] .thumb.led-under{background-image:url("images/6.5.webp")}
    .step[data-step="6"] .thumb.led-profile{background-image:url("images/6.6.jpg")}
    .step[data-step="6"] .thumb.led-scenes{background-image:url("images/6.7.png")}
    .step[data-step="6"] .thumb.h-over{background-image:url("images/6.8.jpg")}
    .step[data-step="6"] .thumb.h-profile{background-image:url("images/6.9.webp")}
    .step[data-step="6"] .thumb.h-gola{background-image:url("images/6.10.jpg")}
    .step[data-step="6"] .thumb.h-push{background-image:url("images/6.11.jpg")}
.thumb.layout-u{background:linear-gradient(135deg, rgba(59,130,246,.45), rgba(34,197,94,.35))}
    .thumb.layout-island{background:linear-gradient(135deg, rgba(168,85,247,.45), rgba(245,158,11,.35))}
    .thumb.tech{background:linear-gradient(135deg, rgba(124,58,237,.35), rgba(34,197,94,.25))}
    .thumb.pack-e{background:linear-gradient(135deg, rgba(148,163,184,.45), rgba(124,58,237,.22))}
    .thumb.pack-s{background:linear-gradient(135deg, rgba(34,197,94,.35), rgba(124,58,237,.25))}
    .thumb.pack-p{background:linear-gradient(135deg, rgba(245,158,11,.35), rgba(124,58,237,.28))}
    .thumb.fac-dsp{background:linear-gradient(135deg, rgba(148,163,184,.40), rgba(255,255,255,.05))}
    .thumb.fac-mdf{background:linear-gradient(135deg, rgba(34,197,94,.28), rgba(124,58,237,.18))}
    .thumb.fac-glass{background:linear-gradient(135deg, rgba(59,130,246,.28), rgba(124,58,237,.18))}
    .thumb.led{background:linear-gradient(135deg, rgba(245,158,11,.25), rgba(124,58,237,.18))}
    .thumb.handle{background:linear-gradient(135deg, rgba(124,58,237,.25), rgba(148,163,184,.20))}

    .preview{display:flex;flex-direction:column;gap:12px}
    .preview .box{border:1px solid var(--border);border-radius:var(--radius2);background:var(--card2);padding:14px}
    .summary{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    @media (max-width:980px){.summary{grid-template-columns:1fr}}
    .kv{display:flex;flex-direction:column;gap:4px;padding:10px;border:1px dashed var(--border);border-radius:14px;background:transparent}
    .kv .k{font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
    .kv .v{font-weight:800}

    .progress-row{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:10px}
    .bar{height:10px;border-radius:999px;background:rgba(255,255,255,.08);border:1px solid var(--border);overflow:hidden;flex:1}
    [data-theme="light"] .bar{background:rgba(0,0,0,.04)}
    .bar > div{height:100%;width:0%;background:linear-gradient(90deg, rgba(124,58,237,.95), rgba(34,197,94,.85));border-radius:999px;transition:width .25s}

    .nav{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:14px 16px;border-top:1px solid var(--border);background:linear-gradient(180deg, transparent, rgba(0,0,0,.06))}
    [data-theme="light"] .nav{background:linear-gradient(180deg, transparent, rgba(0,0,0,.03))}
    .tiny{font-size:12px;color:var(--muted);line-height:1.4}

    .fields{display:grid;gap:12px}
    @media (max-width:560px){.fields{grid-template-columns:1fr}}
    .field{border:1px solid var(--border);border-radius:14px;background:var(--card2);padding:12px}
    .field label{display:block;font-size:12px;color:var(--muted);margin-bottom:8px}
    .input, textarea.input{
      width:100%;padding:12px 12px;border-radius:12px;border:1px solid var(--border);background:transparent;color:var(--text);
      font-weight:800;font-size:14px;outline:none
    }
    textarea.input{font-weight:700;resize:vertical;min-height:86px}
    .input:focus{border-color:rgba(124,58,237,.65);box-shadow:0 0 0 4px rgba(124,58,237,.15)}
    .inline{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .radio{display:flex;gap:8px;align-items:center;border:1px solid var(--border);background:transparent;padding:8px 10px;border-radius:999px;cursor:pointer}
    .radio input{accent-color: var(--accent)}

    .mini-scheme{
      width:100%;aspect-ratio:16/10;border-radius:14px;border:1px solid var(--border);
      background:linear-gradient(180deg, rgba(255,255,255,.04), transparent);
      display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden
    }
    [data-theme="light"] .mini-scheme{background:linear-gradient(180deg, rgba(0,0,0,.03), transparent)}
    .scheme-label{position:absolute;padding:6px 8px;border-radius:999px;border:1px solid var(--border);background:rgba(0,0,0,.18);color:var(--text);font-size:12px;font-weight:800}
    [data-theme="light"] .scheme-label{background:rgba(255,255,255,.85)}
    .scheme-label.a{left:14px;top:14px}
    .scheme-label.b{right:14px;top:14px}
    .scheme-label.c{left:14px;bottom:14px}
    .scheme-line{position:absolute;background:linear-gradient(90deg, rgba(124,58,237,.95), rgba(34,197,94,.85));border-radius:999px}
    .scheme-line.h{height:8px;left:14px;right:14px;top:46%}
    .scheme-line.corner-h{height:8px;left:14px;right:46%;top:46%}
    .scheme-line.corner-v{width:8px;top:18%;bottom:14px;left:46%}
    .scheme-line.u-top{height:8px;left:14px;right:14px;top:26%}
    .scheme-line.u-left{width:8px;top:26%;bottom:14px;left:14px}
    .scheme-line.u-right{width:8px;top:26%;bottom:14px;right:14px}
    .scheme-island{position:absolute;width:42%;height:18%;border-radius:18px;border:1px solid var(--border);background:rgba(255,255,255,.06);bottom:16%;left:29%}
    [data-theme="light"] .scheme-island{background:rgba(0,0,0,.03)}


    /* ===== STEP 2 —Å—Ö–µ–º—ã-—Ä–∏—Å—É–Ω–∫–∏ (PNG/WebP) –≤–º–µ—Å—Ç–æ SVG ===== */
    .layoutPic{
      margin-top:10px;
      height:78px;
      border-radius:14px;
      border:1px solid var(--border);
      background:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .layoutPic img{
      width:100%;
      height:100%;
      object-fit:contain;
      display:block;
    }
    .mini-scheme{
      background:#fff;
      padding:10px;
    }
    .scheme-img{
      width:100%;
      height:100%;
      object-fit:contain;
      display:block;
      border-radius:10px;
    }


    .step{display:none}
    .step.active{display:block}
    .toast{margin-top:10px;border:1px solid var(--border);border-radius:14px;padding:10px 12px;background:rgba(0,0,0,.14);color:var(--muted);font-size:12px;line-height:1.45}
    [data-theme="light"] .toast{background:rgba(255,255,255,.6)}
    code.small{font-size:11px;color:var(--muted)}
    .list{margin:8px 0 0;padding:0;list-style:none;display:flex;flex-wrap:wrap;gap:8px}
    .chip{border:1px solid var(--border);background:transparent;border-radius:999px;padding:7px 10px;font-size:12px;color:var(--text);display:inline-flex;gap:8px;align-items:center}
    .chip small{color:var(--muted);font-weight:700}

    .split{display:grid;gap:12px;margin-top:12px}
/*body.client-mode .split{grid-template-columns:1fr 1fr}*/
body.manager-mode .split{grid-template-columns:1fr}
    .manager-mode .split {
        grid-template-columns: 1fr;
    }
    @media (max-width:780px){.split{grid-template-columns:1fr}}
    .note{font-size:12px;color:var(--muted);line-height:1.45}
    .boxline{border:1px solid var(--border);border-radius:14px;background:transparent;padding:12px}
    .section-row{display:flex;align-items:flex-end;justify-content:space-between;gap:10px;margin-top:14px}
    .h3{margin:0;font-size:14px}
    .muted{color:var(--muted);font-size:12px}
    .hr{height:1px;background:var(--border);margin:12px 0}
  

/* ===== Step 1: STYLE VISUAL PREVIEW (sales booster) ===== */
.style-preview{
  margin-top: 14px;
    overflow: visible;
  display: grid;
  grid-template-columns: 1.05fr 1fr;
  gap: 12px;
  padding: 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.08);
  background: radial-gradient(1200px 420px at 10% 0%, rgba(135,84,255,.16), rgba(0,0,0,0)) ,
              rgba(10,12,18,.45);
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
}
@media (max-width: 980px){
  .style-preview{ grid-template-columns: 1fr; }
}
.style-preview__hero{
  min-height: 220px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.08);
  overflow: hidden;
  position: relative;
  background: linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,0));
}

/* –†–µ–∞–ª—å–Ω–µ —Ñ–æ—Ç–æ (–ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä). –ó–∞–º—ñ–Ω–∏—à –Ω–∞ —Å–≤–æ—ó /assets/... –∞–±–æ URL */
.style-preview__hero img{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: .92;
  filter: saturate(1.05) contrast(1.05);
}
.style-preview__hero::after{
  content:"";
  position:absolute; inset:0;
  background:
    radial-gradient(600px 280px at 10% 15%, rgba(255,255,255,.12), rgba(255,255,255,0) 60%),
    radial-gradient(520px 260px at 75% 80%, rgba(114,255,208,.10), rgba(255,255,255,0) 55%),
    linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,.35));
  pointer-events:none;
}
.style-preview__meta{ padding: 2px 2px 2px 4px; }
.style-preview__title{
  font-size: 18px;
  font-weight: 800;
  letter-spacing: .2px;
  margin-top: 4px;
}
.style-preview__text{
  margin-top: 6px;
  color: rgba(255,255,255,.78);
  line-height: 1.35;
  font-size: 13px;
}
.style-preview__chips{
  display:flex; flex-wrap:wrap; gap:8px;
  margin-top: 10px;
}
.style-preview__chips .chip{
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
}
.style-preview__mini{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:10px;
  margin-top: 10px;
}
.style-preview__mini .mini{
  height: 42px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.08);
  background: linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,0));
}
.style-preview__note{
  margin-top: 10px;
  font-size: 12px;
  color: rgba(255,255,255,.65);
}

/* Visual recipes per style (no external images needed) */
#stylePreview[data-style="modern"] .style-preview__hero{
  background:
    linear-gradient(120deg, rgba(135,84,255,.35), rgba(16,20,34,.3)),
    radial-gradient(700px 300px at 18% 30%, rgba(255,255,255,.10), rgba(255,255,255,0)),
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.0));
}
#stylePreview[data-style="minimal"] .style-preview__hero{
  background:
    linear-gradient(135deg, rgba(255,255,255,.10), rgba(20,24,38,.35)),
    radial-gradient(600px 260px at 55% 35%, rgba(255,255,255,.12), rgba(255,255,255,0) 60%),
    linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,.25));
}
#stylePreview[data-style="classic"] .style-preview__hero{
  background:
    linear-gradient(120deg, rgba(255,181,96,.25), rgba(22,20,18,.35)),
    radial-gradient(700px 320px at 20% 25%, rgba(255,255,255,.12), rgba(255,255,255,0)),
    linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,.28));
}
#stylePreview[data-style="loft"] .style-preview__hero{
  background:
    linear-gradient(120deg, rgba(207,157,88,.18), rgba(16,18,24,.35)),
    radial-gradient(700px 320px at 75% 30%, rgba(255,255,255,.10), rgba(255,255,255,0)),
    repeating-linear-gradient(90deg, rgba(255,255,255,.06) 0 8px, rgba(255,255,255,0) 8px 18px);
}
#stylePreview[data-style="modern"] .mini[data-mini="front"]{ background: linear-gradient(135deg, rgba(255,255,255,.14), rgba(255,255,255,.02)); }
#stylePreview[data-style="modern"] .mini[data-mini="top"]{ background: linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,0)), radial-gradient(80px 60px at 30% 40%, rgba(255,255,255,.14), rgba(255,255,255,0)); }
#stylePreview[data-style="modern"] .mini[data-mini="wall"]{ background: linear-gradient(135deg, rgba(114,255,208,.10), rgba(255,255,255,0)); }

#stylePreview[data-style="minimal"] .mini[data-mini="front"]{ background: linear-gradient(135deg, rgba(255,255,255,.10), rgba(255,255,255,0)); }
#stylePreview[data-style="minimal"] .mini[data-mini="top"]{ background: linear-gradient(135deg, rgba(230,230,230,.10), rgba(255,255,255,0)); }
#stylePreview[data-style="minimal"] .mini[data-mini="wall"]{ background: linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,0)); }

#stylePreview[data-style="classic"] .mini[data-mini="front"]{ background: linear-gradient(135deg, rgba(255,214,155,.12), rgba(255,255,255,0)); }
#stylePreview[data-style="classic"] .mini[data-mini="top"]{ background: linear-gradient(135deg, rgba(255,181,96,.10), rgba(255,255,255,0)); }
#stylePreview[data-style="classic"] .mini[data-mini="wall"]{ background: linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,0)); }

#stylePreview[data-style="loft"] .mini[data-mini="front"]{ background: linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,0)), repeating-linear-gradient(90deg, rgba(255,255,255,.06) 0 6px, rgba(255,255,255,0) 6px 14px); }
#stylePreview[data-style="loft"] .mini[data-mini="top"]{ background: linear-gradient(135deg, rgba(207,157,88,.12), rgba(255,255,255,0)); }
#stylePreview[data-style="loft"] .mini[data-mini="wall"]{ background: linear-gradient(135deg, rgba(255,255,255,.05), rgba(255,255,255,0)); }

    /* mini cells */
    .style-preview__mini {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
        margin-top: 12px;
    }

    .mini {
        height: 64px;
        border-radius: 12px;
        background: linear-gradient(145deg, #2b2f45, #1f2233);
        position: relative;
        cursor: pointer;
        transition: transform .15s ease, box-shadow .15s ease;
    }

    .mini:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(120,90,255,.25);
    }

    /* tooltip */
    .mini::after {
        content: attr(data-tip);
        position: absolute;
        left: 50%;
        bottom: calc(100% + 8px);
        transform: translateX(-50%);

        background: rgba(20,22,40,.96);
        color: #fff;
        font-size: 12px;
        line-height: 1.35;
        padding: 8px 10px;
        border-radius: 10px;

        max-width: 220px;              /* üîë –∫–ª—é—á */
        white-space: normal;           /* üîë –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫ */
        text-align: center;

        opacity: 0;
        pointer-events: none;
        transition: opacity .15s ease;
        z-index: 20;
    }


    .mini:hover::after {
        opacity: 1;
    }






/* ===== STEP 7 photos (comfort kits) ===== */
.step[data-step="7"] .card{ overflow:hidden; }
.step[data-step="7"] .card .thumb{
  position:relative;
  inset:auto;
  transform:none;
  opacity:1;
  filter:none;
  width:100%;
  height:130px;
  border-radius:14px;
  margin:0 0 12px 0;
  background-size:cover;
  background-position:center;
  box-shadow: 0 12px 34px rgba(0,0,0,.28);
  border: 1px solid rgba(255,255,255,.10);
}
.step[data-step="7"] .card .thumb::after{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(to bottom, rgba(0,0,0,.05), rgba(0,0,0,.55));
}
.step[data-step="7"] .card .thumb + .card-title{ margin-top:0; }

/* image mapping */
.step[data-step="7"] .thumb.comfort-econom{ background-image:url("images/6.1.avif"); }
.step[data-step="7"] .thumb.comfort-standard{ background-image:url("images/6.2.jpg"); }
.step[data-step="7"] .thumb.comfort-premium{ background-image:url("images/6.3.jpg"); }

.modules-wrap { margin-top: 10px; display: grid; gap: 12px; }
.modules-title { font-weight: 700; margin-bottom: 6px; }
.modules-list { list-style: none; padding: 0; margin: 0; display: grid; gap: 6px; }
.modules-item { display:flex; align-items:center; gap:10px; padding:8px 10px; border:1px solid rgba(255,255,255,.08); border-radius:10px; }
.modules-badge { font-size: 12px; padding: 3px 8px; border-radius: 999px; background: rgba(255,255,255,.08); }
.modules-dim { font-weight: 700; }
.modules-meta { margin-left:auto; opacity:.7; font-size:12px; }
.muted { opacity: .75; }

/* –°—Ç–∏–ª—å –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ç–∞–±–ª–∏—Ü –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
@media (max-width: 768px) {
    .summary {
        display: block;
        grid-template-columns: 1fr; /* –ú–µ–Ω—è–µ–º –Ω–∞ –æ–¥–Ω—É –∫–æ–ª–æ–Ω–∫—É */
    }

    .field {
        width: 100%; /* –ü–æ–ª–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –¥–ª—è –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ */
    }

    .field label {
        font-size: 14px; /* –°–¥–µ–ª–∞—Ç—å —à—Ä–∏—Ñ—Ç –º–µ–Ω—å—à–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
    }

    .fields {
        display: flex;
        flex-wrap: wrap;
    }

    .input {
        font-size: 14px;
        padding: 10px;
    }

    .tiny {
        font-size: 12px;
    }

    .cards {
        grid-template-columns: 1fr; /* –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ –æ–¥–Ω—É –∑–∞ –¥—Ä—É–≥–æ–π */
    }

    .card {
        padding: 10px;
        margin-bottom: 20px;
    }

    /* –ü—Ä–∏–º–µ–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ */
    .wrap {
        padding: 10px;
    }
}

/* –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
.fields {
    display: grid;
    grid-template-columns: 1fr 1fr; /* –î–≤–∞ —Å—Ç–æ–ª–±—Ü–∞ */
    gap: 12px; /* –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ */
}

/* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è —ç–∫—Ä–∞–Ω–æ–≤ –¥–æ 768px */
@media (max-width: 768px) {
    .fields {
        display: flex;
        flex-wrap: wrap; /* –†–∞–∑–º–µ—â–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ —Å—Ç—Ä–æ–∫–∞–º */
        gap: 12px; /* –û—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ */
    }
    .fields > div {
        width: 100%; /* –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –≤—Å—é —à–∏—Ä–∏–Ω—É */
    }
}

/* –î–ª—è —ç–∫—Ä–∞–Ω–æ–≤ –¥–æ 560px (–º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞) */
@media (max-width: 560px) {
    .fields {
        grid-template-columns: 1fr; /* –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å—Ç–æ–ª–±–µ—Ü */
    }
    .fields > div {
        width: 100%; /* –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –±—É–¥—É—Ç –≤ –æ–¥–Ω–æ–º —Å—Ç–æ–ª–±—Ü–µ */
    }
}

/*!* –°–∫—Ä—ã–≤–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ú–µ–Ω–µ–¥–∂–µ—Ä", –∫–æ–≥–¥–∞ —Ä–µ–∂–∏–º –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω *!*/
/*#calcManagerView {*/
/*    display: none; !* –°–∫—Ä—ã–≤–∞–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é *!*/
/*}*/

/* Step8 views toggle */
/*#calcClientView,*/
/*#calcManagerView {*/
/*    display: none;*/
/*}*/

#calcClientView.is-active,
#calcManagerView.is-active {
    display: block;
}



#calcModeClientBtn.active ~ #calcClientView {
    display: block; /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º, –µ—Å–ª–∏ –∞–∫—Ç–∏–≤–µ–Ω —Ä–µ–∂–∏–º –∫–ª–∏–µ–Ω—Ç–∞ */
}

/* –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
@media (max-width: 768px) {
    .fields {
        display: block;
        margin: 0;
        padding: 10px;
    }

    .fields input {
        width: 100%; /* –ó–∞–¥–∞—ë–º —à–∏—Ä–∏–Ω—É –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö */
        box-sizing: border-box;
        margin-bottom: 10px;
    }

    .fields button {
        width: 100%; /* –ö–Ω–æ–ø–∫–∏ —Ç–æ–∂–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ–º */
    }
}

/* ===========================
   STEP 8 ‚Äî Mobile fixes (<560px)
   =========================== */

/* 1) –ì–ª–æ–±–∞–ª—å–Ω–æ –¥–ª—è Step8: –ø—Ä–∏–±—Ä–∞—Ç–∏ ‚Äú2 –∫–æ–ª–æ–Ω–∫–∏‚Äù –Ω–∞ –º–∞–ª–∏—Ö –µ–∫—Ä–∞–Ω–∞—Ö
   (–ø–µ—Ä–µ–±–∏–≤–∞—î inline grid-template-columns) */
@media (max-width: 560px) {
    section.step[data-step="8"] .fields {
        display: grid !important;
        grid-template-columns: 1fr !important;
        gap: 12px !important;
    }
}

/* 2) –ü–µ—Ä–µ–º–∏–∫–∞—á ‚Äú–ö–ª—ñ—î–Ω—Ç / –ú–µ–Ω–µ–¥–∂–µ—Ä‚Äù ‚Äî –≤ –æ–¥–Ω—É –∫–æ–ª–æ–Ω–∫—É –Ω–∞ –¥—É–∂–µ –º–∞–ª–∏—Ö */
@media (max-width: 560px) {
    section.step[data-step="8"] #calcBlock .fields,
    section.step[data-step="8"] #calcBlock .fields > * {
        width: 100%;
    }
    section.step[data-step="8"] #calcModeClientBtn,
    section.step[data-step="8"] #calcModeManagerBtn {
        width: 100%;
    }
}

/* 3) –ö–æ–Ω—Ç–∞–∫—Ç: –ø–æ–ª—è ‚Äú–Ü–º‚Äô—è / –¢–µ–ª–µ—Ñ–æ–Ω‚Äù + textarea ‚Äî 1 –∫–æ–ª–æ–Ω–∫–∞ */
@media (max-width: 560px) {
    section.step[data-step="8"] input,
    section.step[data-step="8"] textarea {
        width: 100%;
        max-width: 100%;
    }
}

/* 4) –ù–∏–∂–Ω—ñ–π –±–ª–æ–∫ –∑ –∫–Ω–æ–ø–∫–∞–º–∏ (–ù–∞–∑–∞–¥ + —à–ª—è—Ö + –û—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–æ—Ä–∞—Ö—É–Ω–æ–∫) */
@media (max-width: 560px) {
    section.step[data-step="8"] .nav {
        flex-direction: column !important;
        align-items: stretch !important;
        gap: 10px !important;
    }

    section.step[data-step="8"] .nav .btn,
    section.step[data-step="8"] .nav button {
        width: 100% !important;
    }

    /* —à–ª—è—Ö/–ø—ñ–¥–∫–∞–∑–∫–∞ –º—ñ–∂ –∫–Ω–æ–ø–∫–∞–º–∏ ‚Äî –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–∏ —Ä—è–¥–∫–∏ */
    section.step[data-step="8"] .nav .tiny,
    section.step[data-step="8"] .nav .crumbs,
    section.step[data-step="8"] .nav .breadcrumbs {
        width: 100% !important;
        white-space: normal !important;
        line-height: 1.3 !important;
    }
}

/* 5) –¢–∞–±–ª–∏—Ü—ñ/—Å–ø–µ–∫–∏ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É: –Ω–µ ‚Äú—Ä–æ–∑–ø–∏—Ä–∞—é—Ç—å‚Äù –µ–∫—Ä–∞–Ω */
@media (max-width: 560px) {
    section.step[data-step="8"] table {
        display: block;
        width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
}

#calcManagerView { display: none; }
#calcClientView { display: block; }
body[data-calc-mode="manager"] #calcManagerView { display: block; }
body[data-calc-mode="manager"] #calcClientView { display: none; }
